<% provide(:title, "Dashboard") %>

<section class="section">
    <div class="section-description">
        <h1 class="section-title">Dashboard</h1>
    </div>
</section>

<section class="section">
    <div class="section-description">
        <%= link_to "Create Event", new_event_path %>
        <% if @events.any? %>
            <ul class="list-clean">
                <% @events.each do |event| %>
                    <li class="list-item event-content">
                        <div class="col-2">
                            <div class="col-block col-block-9">
                                <h1 class="list-title"><%= link_to event.title, event_path(event) %></h1>
                            </div>
                            <div class="col-block col-block-3">
                                <p><span class="label">Status:</span> <span class="label-content"><%= event.status %></span></p>
                            </div>
                        </div>
                        <%= button_tag "Show details", class: "btn-toggle", type: "button" %>

                        <div class="toggle">
                            <div class="col-2">
                                <div class="col-block">
                                    <h1 class="block-title">Event Details</h1>
                                    
                                    <%= form_for(event) do |f| %>

                                        <div class="field">
                                            <%= f.label :title %>
                                            <%= f.text_field :title, placeholder: "e.g. seth's birthday" %>
                                        </div>

                                        <div class="col-2">
                                            <div class="field">
                                                <%= f.label :type_of_event, "Category" %>
                                                <%= f.text_field :type_of_event, placeholder: "e.g. birthday" %>
                                            </div>

                                            <div class="field">
                                                <%= f.label :guest_count, "Number of guests" %>
                                                <%= f.text_field :guest_count, placeholder: "e.g. 12" %>
                                            </div>
                                        </div>

                                        <div class="field">
                                            <%= f.label :date, "Event date" %>
                                            <%= f.date_field :date, placeholder: "e.g. 07/14/2018" %>
                                        </div>

                                        <div class="col-2">
                                            <div class="field">
                                                <%= f.label :min_budget, "Minimum budget" %>
                                                <%= f.text_field :min_budget, placeholder: "e.g. $500" %>
                                            </div>

                                            <div class="field">
                                                <%= f.label :max_budget, "Maximum budget" %>
                                                <%= f.text_field :max_budget, placeholder: "e.g. $10,000" %>
                                            </div>
                                        </div>

                                        <% unless Time.current > event.date %>
                                            <div class="field action">
                                                <%= f.submit "Update" %>
                                            </div>
                                        <% end %>
                                    <% end %>
                                </div>
                                <div class="col-block">
                                    <h1 class="block-titlte">Your Planner</h1>
                                    <p>Coming soon...</p>
                                </div>
                            </div>
                        </div>
                    </li>
                <% end %>
            </ul>
        <% end %>
    </div>
</section>